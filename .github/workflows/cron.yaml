name: Trigger Workflows on Schedule

on:
  schedule:
    - cron: "*/6 * * * *"  
    - cron: "*/10 * * * *" 

jobs:
  trigger-wf-cases:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger wf-cases.yml workflow
        uses: actions/github-script@v5
        with:
          script: |
            const { Octokit } = require("@octokit/core");
            const octokit = new Octokit({ auth: process.env.GITHUB_TOKEN });

            async function createWorkflowDispatch() {
              const response = await octokit.request("POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches", {
                owner: context.repo.owner,
                repo: context.repo.repo,
                workflow_id: 'wf-cases.yml'
              });
              console.log(response);
            }

            createWorkflowDispatch();

  trigger-wf-calculator:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger wf-calculator.yml workflow
        uses: actions/github-script@v5
        with:
          script: |
            const { Octokit } = require("@octokit/core");
            const octokit = new Octokit({ auth: process.env.GITHUB_TOKEN });

            async function createWorkflowDispatch() {
              const response = await octokit.request("POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches", {
                owner: context.repo.owner,
                repo: context.repo.repo,
                workflow_id: 'wf-calculator.yml'
              });
              console.log(response);
            }

            createWorkflowDispatch();
